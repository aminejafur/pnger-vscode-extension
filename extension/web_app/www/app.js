!function(e){function n(n){for(var t,r,o=n[0],i=n[1],a=0,c=[];a<o.length;a++)r=o[a],Object.prototype.hasOwnProperty.call(L,r)&&L[r]&&c.push(L[r][0]),L[r]=0;for(t in i)Object.prototype.hasOwnProperty.call(i,t)&&(e[t]=i[t]);for(B&&B(n);c.length;)c.shift()()}var t=window.webpackHotUpdate;window.webpackHotUpdate=function(e,n){!function(e,n){if(!O[e]||!E[e])return;for(var t in E[e]=!1,n)Object.prototype.hasOwnProperty.call(n,t)&&(v[t]=n[t]);0==--g&&0===w&&j()}(e,n),t&&t(e,n)};var r,o=!0,i="2123856cf5226358c9bd",a={},c=[],l=[];function d(e){var n=S[e];if(!n)return H;var t=function(t){return n.hot.active?(S[t]?-1===S[t].parents.indexOf(e)&&S[t].parents.push(e):(c=[e],r=t),-1===n.children.indexOf(t)&&n.children.push(t)):(console.warn("[HMR] unexpected require("+t+") from disposed module "+e),c=[]),H(t)},o=function(e){return{configurable:!0,enumerable:!0,get:function(){return H[e]},set:function(n){H[e]=n}}};for(var i in H)Object.prototype.hasOwnProperty.call(H,i)&&"e"!==i&&"t"!==i&&Object.defineProperty(t,i,o(i));return t.e=function(e){return"ready"===f&&p("prepare"),w++,H.e(e).then(n,(function(e){throw n(),e}));function n(){w--,"prepare"===f&&(b[e]||x(e),0===w&&0===g&&j())}},t.t=function(e,n){return 1&n&&(e=t(e)),H.t(e,-2&n)},t}function s(n){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_selfInvalidated:!1,_disposeHandlers:[],_main:r!==n,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._acceptedDependencies[e[r]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},invalidate:function(){switch(this._selfInvalidated=!0,f){case"idle":(v={})[n]=e[n],p("ready");break;case"ready":P(n);break;case"prepare":case"check":case"dispose":case"apply":(y=y||[]).push(n)}},check:_,apply:I,status:function(e){if(!e)return f;u.push(e)},addStatusHandler:function(e){u.push(e)},removeStatusHandler:function(e){var n=u.indexOf(e);n>=0&&u.splice(n,1)},data:a[n]};return r=void 0,t}var u=[],f="idle";function p(e){f=e;for(var n=0;n<u.length;n++)u[n].call(null,e)}var h,v,m,y,g=0,w=0,b={},E={},O={};function k(e){return+e+""===e?+e:e}function _(e){if("idle"!==f)throw new Error("check() is only allowed in idle status");return o=e,p("check"),(n=1e4,n=n||1e4,new Promise((function(e,t){if("undefined"==typeof XMLHttpRequest)return t(new Error("No browser support"));try{var r=new XMLHttpRequest,o=H.p+""+i+".hot-update.json";r.open("GET",o,!0),r.timeout=n,r.send(null)}catch(e){return t(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)t(new Error("Manifest request to "+o+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)t(new Error("Manifest request to "+o+" failed."));else{try{var n=JSON.parse(r.responseText)}catch(e){return void t(e)}e(n)}}}))).then((function(e){if(!e)return p(D()?"ready":"idle"),null;E={},b={},O=e.c,m=e.h,p("prepare");var n=new Promise((function(e,n){h={resolve:e,reject:n}}));for(var t in v={},L)x(t);return"prepare"===f&&0===w&&0===g&&j(),n}));var n}function x(e){O[e]?(E[e]=!0,g++,function(e){var n=document.createElement("script");n.charset="utf-8",n.src=H.p+""+e+"."+i+".hot-update.js",document.head.appendChild(n)}(e)):b[e]=!0}function j(){p("ready");var e=h;if(h=null,e)if(o)Promise.resolve().then((function(){return I(o)})).then((function(n){e.resolve(n)}),(function(n){e.reject(n)}));else{var n=[];for(var t in v)Object.prototype.hasOwnProperty.call(v,t)&&n.push(k(t));e.resolve(n)}}function I(n){if("ready"!==f)throw new Error("apply() is only allowed in ready status");return function n(t){var o,l,d,s,u;function f(e){for(var n=[e],t={},r=n.map((function(e){return{chain:[e],id:e}}));r.length>0;){var o=r.pop(),i=o.id,a=o.chain;if((s=S[i])&&(!s.hot._selfAccepted||s.hot._selfInvalidated)){if(s.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:i};if(s.hot._main)return{type:"unaccepted",chain:a,moduleId:i};for(var c=0;c<s.parents.length;c++){var l=s.parents[c],d=S[l];if(d){if(d.hot._declinedDependencies[i])return{type:"declined",chain:a.concat([l]),moduleId:i,parentId:l};-1===n.indexOf(l)&&(d.hot._acceptedDependencies[i]?(t[l]||(t[l]=[]),h(t[l],[i])):(delete t[l],n.push(l),r.push({chain:a.concat([l]),id:l})))}}}}return{type:"accepted",moduleId:e,outdatedModules:n,outdatedDependencies:t}}function h(e,n){for(var t=0;t<n.length;t++){var r=n[t];-1===e.indexOf(r)&&e.push(r)}}D();var g={},w=[],b={},E=function(){console.warn("[HMR] unexpected require("+x.moduleId+") to disposed module")};for(var _ in v)if(Object.prototype.hasOwnProperty.call(v,_)){var x;u=k(_),x=v[_]?f(u):{type:"disposed",moduleId:_};var j=!1,I=!1,P=!1,M="";switch(x.chain&&(M="\nUpdate propagation: "+x.chain.join(" -> ")),x.type){case"self-declined":t.onDeclined&&t.onDeclined(x),t.ignoreDeclined||(j=new Error("Aborted because of self decline: "+x.moduleId+M));break;case"declined":t.onDeclined&&t.onDeclined(x),t.ignoreDeclined||(j=new Error("Aborted because of declined dependency: "+x.moduleId+" in "+x.parentId+M));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(x),t.ignoreUnaccepted||(j=new Error("Aborted because "+u+" is not accepted"+M));break;case"accepted":t.onAccepted&&t.onAccepted(x),I=!0;break;case"disposed":t.onDisposed&&t.onDisposed(x),P=!0;break;default:throw new Error("Unexception type "+x.type)}if(j)return p("abort"),Promise.reject(j);if(I)for(u in b[u]=v[u],h(w,x.outdatedModules),x.outdatedDependencies)Object.prototype.hasOwnProperty.call(x.outdatedDependencies,u)&&(g[u]||(g[u]=[]),h(g[u],x.outdatedDependencies[u]));P&&(h(w,[x.moduleId]),b[u]=E)}var R,A=[];for(l=0;l<w.length;l++)u=w[l],S[u]&&S[u].hot._selfAccepted&&b[u]!==E&&!S[u].hot._selfInvalidated&&A.push({module:u,parents:S[u].parents.slice(),errorHandler:S[u].hot._selfAccepted});p("dispose"),Object.keys(O).forEach((function(e){!1===O[e]&&function(e){delete L[e]}(e)}));var B,q,T=w.slice();for(;T.length>0;)if(u=T.pop(),s=S[u]){var U={},C=s.hot._disposeHandlers;for(d=0;d<C.length;d++)(o=C[d])(U);for(a[u]=U,s.hot.active=!1,delete S[u],delete g[u],d=0;d<s.children.length;d++){var N=S[s.children[d]];N&&((R=N.parents.indexOf(u))>=0&&N.parents.splice(R,1))}}for(u in g)if(Object.prototype.hasOwnProperty.call(g,u)&&(s=S[u]))for(q=g[u],d=0;d<q.length;d++)B=q[d],(R=s.children.indexOf(B))>=0&&s.children.splice(R,1);p("apply"),void 0!==m&&(i=m,m=void 0);for(u in v=void 0,b)Object.prototype.hasOwnProperty.call(b,u)&&(e[u]=b[u]);var F=null;for(u in g)if(Object.prototype.hasOwnProperty.call(g,u)&&(s=S[u])){q=g[u];var z=[];for(l=0;l<q.length;l++)if(B=q[l],o=s.hot._acceptedDependencies[B]){if(-1!==z.indexOf(o))continue;z.push(o)}for(l=0;l<z.length;l++){o=z[l];try{o(q)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:u,dependencyId:q[l],error:e}),t.ignoreErrored||F||(F=e)}}}for(l=0;l<A.length;l++){var G=A[l];u=G.module,c=G.parents,r=u;try{H(u)}catch(e){if("function"==typeof G.errorHandler)try{G.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:u,error:n,originalError:e}),t.ignoreErrored||F||(F=n),F||(F=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:u,error:e}),t.ignoreErrored||F||(F=e)}}if(F)return p("fail"),Promise.reject(F);if(y)return n(t).then((function(e){return w.forEach((function(n){e.indexOf(n)<0&&e.push(n)})),e}));return p("idle"),new Promise((function(e){e(w)}))}(n=n||{})}function D(){if(y)return v||(v={}),y.forEach(P),y=void 0,!0}function P(n){Object.prototype.hasOwnProperty.call(v,n)||(v[n]=e[n])}var S={},L={main:0};function H(n){if(S[n])return S[n].exports;var t=S[n]={i:n,l:!1,exports:{},hot:s(n),parents:(l=c,c=[],l),children:[]};return e[n].call(t.exports,t,t.exports,d(n)),t.l=!0,t.exports}H.e=function(e){var n=[],t=L[e];if(0!==t)if(t)n.push(t[2]);else{var r=new Promise((function(n,r){t=L[e]=[n,r]}));n.push(t[2]=r);var o,i=document.createElement("script");i.charset="utf-8",i.timeout=120,H.nc&&i.setAttribute("nonce",H.nc),i.src=function(e){return H.p+""+e+".app.js"}(e);var a=new Error;o=function(n){i.onerror=i.onload=null,clearTimeout(c);var t=L[e];if(0!==t){if(t){var r=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;a.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",a.name="ChunkLoadError",a.type=r,a.request=o,t[1](a)}L[e]=void 0}};var c=setTimeout((function(){o({type:"timeout",target:i})}),12e4);i.onerror=i.onload=o,document.head.appendChild(i)}return Promise.all(n)},H.m=e,H.c=S,H.d=function(e,n,t){H.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},H.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},H.t=function(e,n){if(1&n&&(e=H(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(H.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)H.d(t,r,function(n){return e[n]}.bind(null,r));return t},H.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return H.d(n,"a",n),n},H.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},H.p="",H.oe=function(e){throw console.error(e),e},H.h=function(){return i};var M=window.webpackJsonp=window.webpackJsonp||[],R=M.push.bind(M);M.push=n,M=M.slice();for(var A=0;A<M.length;A++)n(M[A]);var B=R;d(3)(H.s=3)}([function(e,n,t){"use strict";var r=t(1)(e.i,{locals:!1});e.hot.dispose(r),e.hot.accept(void 0,r)},function(e,n,t){"use strict";var r=t(2),o=Object.create(null),i="undefined"==typeof document,a=Array.prototype.forEach;function c(){}function l(e,n){if(!n){if(!e.href)return;n=e.href.split("?")[0]}if(u(n)&&!1!==e.isLoaded&&n&&n.indexOf(".css")>-1){e.visited=!0;var t=e.cloneNode();t.isLoaded=!1,t.addEventListener("load",(function(){t.isLoaded=!0,e.parentNode.removeChild(e)})),t.addEventListener("error",(function(){t.isLoaded=!0,e.parentNode.removeChild(e)})),t.href="".concat(n,"?").concat(Date.now()),e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t)}}function d(e){if(!e)return!1;var n=document.querySelectorAll("link"),t=!1;return a.call(n,(function(n){if(n.href){var o=function(e,n){var t;return e=r(e,{stripWWW:!1}),n.some((function(r){e.indexOf(n)>-1&&(t=r)})),t}(n.href,e);u(o)&&!0!==n.visited&&o&&(l(n,o),t=!0)}})),t}function s(){var e=document.querySelectorAll("link");a.call(e,(function(e){!0!==e.visited&&l(e)}))}function u(e){return!!/^https?:/i.test(e)}e.exports=function(e,n){if(i)return console.log("no window.document found, will not HMR CSS"),c;var t,a,l,u=function(e){var n=o[e];if(!n){if(document.currentScript)n=document.currentScript.src;else{var t=document.getElementsByTagName("script"),i=t[t.length-1];i&&(n=i.src)}o[e]=n}return function(e){if(!n)return null;var t=n.split(/([^\\/]+)\.js$/),o=t&&t[1];return o&&e?e.split(",").map((function(e){var t=new RegExp("".concat(o,"\\.js$"),"g");return r(n.replace(t,"".concat(e.replace(/{fileName}/g,o),".css")))})):[n.replace(".js",".css")]}}(e);return t=function(){var e=u(n.filename),t=d(e);if(n.locals)return console.log("[HMR] Detected local css modules. Reload all css"),void s();t?console.log("[HMR] css reload %s",e.join(" ")):(console.log("[HMR] Reload all css"),s())},a=50,l=0,function(){var e=this,n=arguments,r=function(){return t.apply(e,n)};clearTimeout(l),l=setTimeout(r,a)}}},function(e,n,t){"use strict";e.exports=function(e){if(e=e.trim(),/^data:/i.test(e))return e;var n=-1!==e.indexOf("//")?e.split("//")[0]+"//":"",t=e.replace(new RegExp(n,"i"),"").split("/"),r=t[0].toLowerCase().replace(/\.$/,"");return t[0]="",n+r+t.reduce((function(e,n){switch(n){case"..":e.pop();break;case".":break;default:e.push(n)}return e}),[]).join("/")}},function(e,n,t){"use strict";t.r(n);t(0);function r(e,n,t,r,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void t(e)}c.done?n(l):Promise.resolve(l).then(r,o)}function o(e){return function(){var n=this,t=arguments;return new Promise((function(o,i){var a=e.apply(n,t);function c(e){r(a,o,i,c,l,"next",e)}function l(e){r(a,o,i,c,l,"throw",e)}c(void 0)}))}}var i=document.getElementById("viewfinder"),a=document.getElementById("video"),c=document.getElementById("width_slider"),l=document.getElementById("height_slider"),d=document.getElementById("canvas"),s=null,u=null,f=null,p=null,h=null,v=null,m=!1,y={video:{width:{ideal:1080},height:{ideal:720},facingMode:"environment"},audio:!1};function g(){return(g=o((function*(){return d.getContext("2d").drawImage(a,i.offsetLeft-a.offsetLeft,i.offsetTop-a.offsetTop,h,v,0,0,h,v),d.toDataURL("image/png")}))).apply(this,arguments)}function w(e,n){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];i.style.width=s-s/e+"px",i.style.height=s-s/n+"px",h=i.offsetWidth,v=i.offsetHeight,i.style.left=a.offsetLeft+(f-h)/2+"px",i.style.top=a.offsetTop+(p-v)/2+"px",t&&(d.width=h,d.height=v)}function b(){return w(c.value,l.value)}function E(e,n,t,r,o,i,a){try{var c=e[i](a),l=c.value}catch(e){return void t(e)}c.done?n(l):Promise.resolve(l).then(r,o)}function O(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){E(i,r,o,a,c,"next",e)}function c(e){E(i,r,o,a,c,"throw",e)}a(void 0)}))}}window.onresize=e=>{w(5,5,!1)},window.onload=e=>{var n,r=null,o="navigation-bar__item--current",i=null,c=document.getElementById("loading"),l=document.querySelector(".".concat("navigation-bar__fab")),d=e=>document.querySelector(".".concat(o)),h=document.getElementById("send_picture"),v=document.getElementById("close_showcase"),E=document.getElementById("modal"),k=document.getElementById("folder"),_=document.getElementById("modal_submit"),x=document.getElementById("modal_close"),j=document.getElementById("filename"),{"removebg-api-key":I,"workspace-folders":D,token:P}=((n=new XMLHttpRequest).open("GET",document.location,!1),n.send(null),n.getAllResponseHeaders().split("\r\n").reduce((function(e,n){var t=n.split(":");return e[t[0]]=t[1],e}),{})),S=["camera","showcase","info"];function L(e){if(e)if("camera"!=e||m){var n,t,r,i;S.forEach(n=>{document.getElementById(n).style.top=n==e?"0":null}),"camera"==e?(null===(r=u)||void 0===r||r.getTracks().forEach((function(e){"live"==e.readyState&&"video"===e.kind&&(e.enabled=!0)})),a.srcObject=u,a.play(),null===(n=d())||void 0===n||n.classList.remove(o),l.classList.add("capture")):(a.pause(),a.srcObject=null,null===(t=u)||void 0===t||t.getTracks().forEach((function(e){"live"==e.readyState&&"video"===e.kind&&(e.enabled=!1)})),l.classList.remove("capture")),"home"!=e&&"info"!=e||(null===(i=d())||void 0===i||i.classList.remove(o),document.querySelector("a[goto=".concat(e,"]")).classList.add(o))}else alert("Error : please make sure camera is enbaled!")}h.onclick=e=>{c.style.display="flex",t.e("remove").then(t.bind(null,4)).then(function(){var e=O((function*(e){new e.default(i).removeByApi(I).then((function(e){if(!e.ok){var n="Something went wrong, please try agian later";return e.json().then(e=>{e&&e.errors&&e.errors[0]&&(n=e.errors[0].title),alert("API ERROR : "+n),c.style.display=null})}return e})).then(function(){var e=O((function*(e){yield null==e?void 0:e.json().then(e=>(r=e.data.result_b64,c.style.display=null,E.style.top="0",new Promise((e,n)=>{_.addEventListener("click",(function(n){var t,o,i;e((t=j.value,o=k.value,i="data:image/png;base64,".concat(r),fetch("/imgBase64",{method:"POST",headers:{accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({filename:t,folder:o,imgBase64:i})}).then(e=>e.ok?e.json():alert("Something went wrong")).then(e=>{alert(e.message),E.style.top=null}).catch(e=>{console.log(e)})))}),{once:!0})})))}));return function(n){return e.apply(this,arguments)}}()).catch((function(e){console.log(e),alert("ERROR : Network request failed, check your internet or try again later. \n"+(null==e?void 0:e.message)),c.style.display=null}))}));return function(n){return e.apply(this,arguments)}}())},v.onclick=function(){L("camera")},document.body.onclick=e=>{(e.target==l||e.target.classList.contains("navigation-bar__item"))&&(e.target==l&&l.classList.contains("capture")?function(){return g.apply(this,arguments)}().then(e=>{i=e,L("showcase")}):L(e.target.getAttribute("goto")))},null==D||D.split("#").map((e,n)=>{var t=document.createElement("option");t.text=e,t.value=n,k.add(t)}),x.onclick=e=>E.style.top=null,function(){if(navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,!navigator.mediaDevices||void 0===navigator.mediaDevices.getUserMedia)return alert("Error : please make sure camera is enbaled!"),!1;navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia(y).then((function(e){m=!0,u=e})).catch((function(e){console.log("An error occurred: "+e)})),a.addEventListener("canplay",(function(e){p=a.offsetHeight,f=a.offsetWidth,s=Math.min(p,f),w(2,2)})))}(),window.updateViewfinder=b,window.copyLink=e=>{var n=window.getSelection(),t=document.createRange();t.selectNodeContents(e),n.removeAllRanges(),n.addRange(t),document.execCommand("Copy"),alert("Link copied, now open a new tab and past it into the address bar, then add "+location.href+" to the textarea and click on relaunch.\n\nNB: These kind of links are secured and cannot accessed onclick, therefore you have to access it manually.")},window.toggleFullScreen=e=>{var n=window.document,t=n.documentElement,r=t.requestFullscreen||t.mozRequestFullScreen||t.webkitRequestFullScreen||t.msRequestFullscreen,o=n.exitFullscreen||n.mozCancelFullScreen||n.webkitExitFullscreen||n.msExitFullscreen;n.fullscreenElement||n.mozFullScreenElement||n.webkitFullscreenElement||n.msFullscreenElement?(o.call(n),null==e||e.classList.replace("fa-compress","fa-expand")):(r.call(t),null==e||e.classList.replace("fa-expand","fa-compress"))}}}]);